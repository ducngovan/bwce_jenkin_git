pipeline {
	agent any
	stages {
		stage('Clone') {
			steps{
				echo 'Start b1 liên kết với  git ..........................................................!!!'
				git branch: 'main', url: 'https://github.com/ducngovan/bwce_jenkin_git.git'
				echo 'Finish b1 liên kết với  git ..........................................................!!!'
			}
		}
		stage('Build image docker') {
			steps{
				echo 'Start b2 liên kết với  docker ..........................................................!!!'
				
				// This step should not normally be used in your script. Consult the inline help for details.
				withDockerRegistry(credentialsId: 'dockerhub', url: 'https://index.docker.io/v1/') {
				// some block
				sh 'docker build -t duc1996/bwce_jenkins:v1  .'
				sh 'docker push duc1996/bwce_jenkins:v1'
				}
				echo 'Finish 2 thao tác với  docker ..........................................................!!!'
			}
		}
	}
}